<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI/ML Engineer Portfolio</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root {
      --accent: #68b2a0;
      --bg-dark: #0f111a;
      --fg: #f5f7fa;
      --radius: 999px;
      --transition: .35s cubic-bezier(.4,.2,.2,1);
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    body {
      min-height:100vh;
      background: var(--bg-dark);
      color: var(--fg);
      font-family: system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
      position: relative;
      overflow: hidden;
    }

    /* ---------- fixed structure ---------- */
    .background-wrapper {
      position: fixed;
      inset:0;
      pointer-events:none;
      z-index:0;
    }

    #network-canvas, .wave-bg, .pulse-layer {
      position: absolute;
      inset:0;
      width:100%;
      height:100%;
    }

    .content {
      position: relative;
      z-index: 3;
      padding: 3rem 1.5rem;
      max-width: 1000px;
      margin: 0 auto;
    }
    h1{font-size:clamp(2rem,5vw,3rem);margin-bottom:.5rem;}
    p{font-size:1.1rem;line-height:1.4;max-width:800px;}

    /* theme / variant control */
    .theme-switcher {
      position: fixed;
      top:1rem;
      right:1rem;
      z-index:4;
      display:flex;
      gap:.5rem;
    }
    .theme-btn {
      background: rgba(255,255,255,0.08);
      border:none;
      padding:.65rem 1rem;
      border-radius:var(--radius);
      cursor:pointer;
      color:inherit;
      font-size:.8rem;
      backdrop-filter: blur(6px);
      transition: background var(--transition);
    }
    .theme-btn.active {
      background: var(--accent);
      color:#0f111a;
    }

    /* ---------- animation variant: pulse + network ---------- */
    .pulse-layer {
      pointer-events:none;
      overflow:hidden;
      mix-blend-mode: screen;
      z-index:1;
    }
    .pulse-circle {
      position:absolute;
      width: var(--size);
      height: var(--size);
      border: 2px solid rgba(104,178,160,0.3);
      border-radius:50%;
      animation: ping 2.5s infinite ease-out;
      animation-delay: var(--delay);
      mix-blend-mode: screen;
      opacity:0;
    }
    @keyframes ping {
      0% {transform: scale(0.6);opacity:.5;}
      60% {transform: scale(1.4);opacity:0;}
      100% {opacity:0;}
    }

    #network-canvas { z-index:2; }

    /* ---------- animation variant: gradient wave ---------- */
    .wave-bg {
      background: linear-gradient(135deg, #1f2e60, #0f1e40 40%, #233d7d);
      background-size: 300% 300%;
      animation: wave 20s ease-in-out infinite;
      filter: brightness(1.05);
      mix-blend-mode: overlay;
      z-index:1;
    }

    @keyframes wave {
      0%{background-position:0% 50%;}
      50%{background-position:100% 50%;}
      100%{background-position:0% 50%;}
    }

    /* visibility control via data attribute */
    [data-bg="network"] .wave-bg { display:none; }
    [data-bg="network"] .pulse-layer { display:block; }
    [data-bg="network"] #network-canvas { display:block; }

    [data-bg="wave"] .wave-bg { display:block; }
    [data-bg="wave"] .pulse-layer { display:none; }
    [data-bg="wave"] #network-canvas { display:none; }

    [data-bg="both"] .wave-bg { display:block; }
    [data-bg="both"] .pulse-layer { display:block; }
    [data-bg="both"] #network-canvas { display:block; }
  </style>
</head>
<body data-bg="network">
  <!-- theme / background selector -->
  <div class="theme-switcher" aria-label="Background selector">
    <button class="theme-btn active" data-target="network">Network + Pulse</button>
    <button class="theme-btn" data-target="wave">Gradient Wave</button>
    <button class="theme-btn" data-target="both">Both</button>
  </div>

  <!-- fixed structure; animations swapped by data-bg attr -->
  <div class="background-wrapper">
    <div class="wave-bg" aria-hidden="true"></div>
    <div class="pulse-layer" aria-hidden="true" id="pulse-container"></div>
    <canvas id="network-canvas" aria-hidden="true"></canvas>
  </div>

  <div class="content">
    <h1>AI / ML Engineer Portfolio</h1>
    <p>Building intelligent systems with data-driven insights. Scroll to explore projects, models, and research.</p>
    <!-- other sections remain here; structure doesn't change when you switch animations -->
  </div>

  <script>
    // variant toggle logic (only changes attribute, not structure)
    document.querySelectorAll('.theme-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const target = btn.dataset.target;
        document.body.setAttribute('data-bg', target);
        document.querySelectorAll('.theme-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
      });
    });

    // ---------- pulse circles (static generation) ----------
    const pulseContainer = document.getElementById('pulse-container');
    const circleCount = 10;
    for (let i = 0; i < circleCount; i++) {
      const c = document.createElement('div');
      c.className = 'pulse-circle';
      const size = 180 + Math.random() * 400;
      const delay = (Math.random() * 1.5).toFixed(2) + 's';
      c.style.setProperty('--size', size + 'px');
      c.style.setProperty('--delay', delay);
      c.style.left = (10 + Math.random() * 80) + '%';
      c.style.top = (10 + Math.random() * 80) + '%';
      pulseContainer.appendChild(c);
    }

    // ---------- network canvas animation ----------
    const canvas = document.getElementById('network-canvas');
    const ctx = canvas.getContext('2d');
    let W, H, nodes = [];
    const config = {
      nodeCount: 70,
      maxDistance: 110,
      nodeRadius: 3,
      speed: 0.32
    };

    function resize() {
      W = canvas.width = window.innerWidth;
      H = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    class Node {
      constructor() { this.reset(); }
      reset() {
        this.x = Math.random() * W;
        this.y = Math.random() * H;
        const angle = Math.random() * Math.PI * 2;
        this.vx = Math.cos(angle) * (Math.random() * config.speed);
        this.vy = Math.sin(angle) * (Math.random() * config.speed);
        this.radius = config.nodeRadius + Math.random() * 1.2;
      }
      update() {
        this.x += this.vx;
        this.y += this.vy;
        if (this.x < -50) this.x = W + 50;
        if (this.x > W + 50) this.x = -50;
        if (this.y < -50) this.y = H + 50;
        if (this.y > H + 50) this.y = -50;
      }
      draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fillStyle = 'rgba(104,178,160,0.7)';
        ctx.fill();
      }
    }

    function initNodes() {
      nodes = [];
      for (let i = 0; i < config.nodeCount; i++) nodes.push(new Node());
    }

    function distance(a,b){
      return Math.hypot(a.x - b.x, a.y - b.y);
    }

    function animate() {
      ctx.clearRect(0,0,W,H);
      for (let i=0;i<nodes.length;i++){
        for (let j=i+1;j<nodes.length;j++){
          const d = distance(nodes[i], nodes[j]);
          if (d < config.maxDistance) {
            const opacity = 1 - d / config.maxDistance;
            ctx.strokeStyle = `rgba(104,178,160,${(opacity*0.15).toFixed(3)})`;
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(nodes[i].x, nodes[i].y);
            ctx.lineTo(nodes[j].x, nodes[j].y);
            ctx.stroke();
          }
        }
      }
      nodes.forEach(n => { n.update(); n.draw(); });
      requestAnimationFrame(animate);
    }

    if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
      initNodes();
      animate();
    } else {
      initNodes();
      nodes.forEach(n => n.draw());
    }
  </script>
</body>
</html>
